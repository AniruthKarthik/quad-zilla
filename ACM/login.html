<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>MyLMS Login / Signup</title>

<!-- Tailwind -->
<script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>

<!-- Fonts -->
<link href="https://fonts.googleapis.com" rel="preconnect"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;900&display=swap" rel="stylesheet"/>

<style type="text/tailwindcss">
    :root {
        --primary-color: #2563eb;
        --accent-color: #facc15;
    }
    input:focus {
        outline: none;
        box-shadow: 0 0 6px var(--accent-color);
    }
    
</style>

<script>
tailwind.config = {
    darkMode: "class",
    theme: {
        extend: {
            colors: {
                "primary": "var(--primary-color)",
                "accent": "var(--accent-color)",
                "background-light": "#f6f7f8",
                "background-dark": "#101922",
            },
            fontFamily: {
                "display": ["Inter"]
            },
            borderRadius: {
                        "DEFAULT": "0.5rem",
                        "lg": "1rem",
                        "xl": "1.5rem",
                        "full": "9999px"
                    },
        },
    },
}
</script>
</head>

<body class="font-display bg-background-light dark:bg-background-dark">
<div class="relative min-h-screen w-full">

  <!-- Background -->
  <div class="absolute inset-0 bg-cover bg-center" 
       style="background-image: url('backgrlogin.jpg');">

    <div class="absolute inset-0 bg-black/40 backdrop-blur-sm"></div>
  </div>

  <!-- Main Container -->
  <div class="relative flex min-h-screen items-center justify-center p-4">
    <div class="w-full max-w-md rounded-xl bg-white/90 backdrop-blur-xl shadow-2xl p-8 space-y-6 border border-white/30">
      
      <!-- Title -->
      <div class="text-center">
        <h1 class="text-3xl font-bold text-gray-800">üìö MyLMS</h1>
      </div>

      <!-- Tabs -->
      <div class="flex border-b border-gray-300">
        <button id="loginTab" class="flex-1 py-2 text-center font-semibold text-primary border-b-2 border-accent">Login</button>
        <button id="signupTab" class="flex-1 py-2 text-center font-semibold text-gray-500 hover:text-accent transition-colors">Signup</button>
      </div>

      <!-- Login Form -->
      <form id="loginForm" class="space-y-4">
        <div>
          <input class="w-full rounded-lg border-gray-300 bg-white/70 p-3 text-gray-800 placeholder-gray-500 focus:ring-accent focus:border-accent" 
                 placeholder="Email" type="email" required/>
        </div>
        <div>
          <input class="w-full rounded-lg border-gray-300 bg-white/70 p-3 text-gray-800 placeholder-gray-500 focus:ring-accent focus:border-accent" 
                 placeholder="Password" type="password" required/>
        </div>
        <div class="text-right">
          <a id="forgotBtn" class="cursor-pointer text-sm font-medium text-gray-500 hover:text-accent">Forgot Password?</a>
        </div>
        <button class="w-full rounded-lg bg-primary py-3 text-white font-bold hover:bg-blue-700 transition-colors" type="submit">
          Login
        </button>
      </form>

      <!-- Signup Form -->
      <form id="signupForm" class="space-y-4 hidden">
        <div>
          <input class="w-full rounded-lg border-gray-300 bg-white/70 p-3 text-gray-800 placeholder-gray-500 focus:ring-accent focus:border-accent" 
                 placeholder="Full Name" type="text" required/>
        </div>
        <div>
          <input class="w-full rounded-lg border-gray-300 bg-white/70 p-3 text-gray-800 placeholder-gray-500 focus:ring-accent focus:border-accent" 
                 placeholder="Email" type="email" required/>
        </div>
        <div>
          <input id="signupPassword" class="w-full rounded-lg border-gray-300 bg-white/70 p-3 text-gray-800 placeholder-gray-500 focus:ring-accent focus:border-accent" 
                 placeholder="Password" type="password" required/>
          <!-- Password rules -->
          <ul id="passwordRules" class="mt-2 text-sm text-gray-600 space-y-1">
            <li id="ruleLength">‚ùå At least 8 characters</li>
            <li id="ruleUpper">‚ùå At least one uppercase letter</li>
            <li id="ruleLower">‚ùå At least one lowercase letter</li>
            <li id="ruleNumber">‚ùå At least one number</li>
            <li id="ruleSpecial">‚ùå At least one special character</li>
          </ul>
        </div>
        <div>
          <input id="confirmPassword" class="w-full rounded-lg border-gray-300 bg-white/70 p-3 text-gray-800 placeholder-gray-500 focus:ring-accent focus:border-accent" 
                 placeholder="Confirm Password" type="password" required/>
          <p id="matchMsg" class="text-sm mt-1"></p>
        </div>
        <button class="w-full rounded-lg bg-primary py-3 text-white font-bold hover:bg-blue-700 transition-colors" type="submit">
          Signup
        </button>
      </form>

      <!-- Divider -->
      <div class="flex items-center">
        <hr class="flex-grow border-gray-300"/>
        <span class="mx-4 text-sm text-gray-500">Or continue with</span>
        <hr class="flex-grow border-gray-300"/>
      </div>

      <!-- Google Button -->
      <button class="w-full flex items-center justify-center gap-2 rounded-lg border border-gray-300 bg-white/70 py-3 font-semibold text-gray-800 hover:bg-gray-100 transition-colors">
        <img src="https://www.svgrepo.com/show/355037/google.svg" class="h-5 w-5"/> Sign in with Google
      </button>

    </div>
  </div>
</div>

<!-- Forgot Password Modal -->
<div id="forgotModal" class="fixed inset-0 bg-black/50 hidden items-center justify-center">
  <div class="bg-white rounded-xl p-6 w-96 space-y-4 shadow-lg">
    <h2 class="text-lg font-bold">Reset Password</h2>
    <input type="email" placeholder="Enter your email" class="w-full border p-2 rounded"/>
    <div class="flex justify-end gap-2">
      <button id="closeModal" class="px-4 py-2 rounded bg-gray-300 hover:bg-gray-400">Cancel</button>
      <button class="px-4 py-2 rounded bg-primary text-white hover:bg-blue-700">Send Link</button>
    </div>
  </div>
</div>

<!-- JavaScript -->
<script>
const loginTab = document.getElementById("loginTab");
const signupTab = document.getElementById("signupTab");
const loginForm = document.getElementById("loginForm");
const signupForm = document.getElementById("signupForm");
const loginButton = document.getElementById("loginButton");
const signupButton = document.getElementById("signupButton");
const googleButton = document.getElementById("googleButton");
const sendResetLink = document.getElementById("sendResetLink");

// Function to redirect to dashboard
function redirectToDashboard() {
    window.location.href = 'dashboard.html';
}

// Switch tabs
loginTab.onclick = () => {
  loginForm.classList.remove("hidden");
  signupForm.classList.add("hidden");
  loginTab.classList.add("text-primary","border-accent","border-b-2");
  signupTab.classList.remove("text-primary","border-accent","border-b-2");
};
signupTab.onclick = () => {
  signupForm.classList.remove("hidden");
  loginForm.classList.add("hidden");
  signupTab.classList.add("text-primary","border-accent","border-b-2");
  loginTab.classList.remove("text-primary","border-accent","border-b-2");
};

// Form submissions redirect to dashboard
loginForm.onsubmit = (e) => {
    e.preventDefault();
    // Here you would typically validate credentials
    // For demo purposes, redirect directly
    redirectToDashboard();
};

signupForm.onsubmit = (e) => {
    e.preventDefault();
    // Here you would typically create a new account
    // For demo purposes, redirect directly
    redirectToDashboard();
};

// Google button also redirects to dashboard
googleButton.onclick = () => {
    redirectToDashboard();
};

// Password rules check
const signupPassword = document.getElementById("signupPassword");
const confirmPassword = document.getElementById("confirmPassword");
const matchMsg = document.getElementById("matchMsg");

const rules = {
  length: document.getElementById("ruleLength"),
  upper: document.getElementById("ruleUpper"),
  lower: document.getElementById("ruleLower"),
  number: document.getElementById("ruleNumber"),
  special: document.getElementById("ruleSpecial"),
};

signupPassword.addEventListener("input", () => {
  const val = signupPassword.value;
  rules.length.textContent = (val.length >= 8 ? "‚úÖ" : "‚ùå") + " At least 8 characters";
  rules.upper.textContent = (/[A-Z]/.test(val) ? "‚úÖ" : "‚ùå") + " At least one uppercase letter";
  rules.lower.textContent = (/[a-z]/.test(val) ? "‚úÖ" : "‚ùå") + " At least one lowercase letter";
  rules.number.textContent = (/[0-9]/.test(val) ? "‚úÖ" : "‚ùå") + " At least one number";
  rules.special.textContent = (/[^A-Za-z0-9]/.test(val) ? "‚úÖ" : "‚ùå") + " At least one special character";
});

confirmPassword.addEventListener("input", () => {
  if (confirmPassword.value === signupPassword.value) {
    matchMsg.textContent = "‚úÖ Passwords match";
    matchMsg.className = "text-green-600 text-sm mt-1";
  } else {
    matchMsg.textContent = "‚ùå Passwords do not match";
    matchMsg.className = "text-red-600 text-sm mt-1";
  }
});

// Forgot password modal
const forgotBtn = document.getElementById("forgotBtn");
const forgotModal = document.getElementById("forgotModal");
const closeModal = document.getElementById("closeModal");

forgotBtn.onclick = () => forgotModal.classList.remove("hidden","opacity-0");
closeModal.onclick = () => forgotModal.classList.add("hidden");
</script>
</body>
</html>
